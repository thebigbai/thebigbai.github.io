<!DOCTYPE html>
<html>
<head>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta name="baidu-site-verification" content="IPMJn3GbW9" />
    <meta name="google-site-verification" content="5qg7SdWiFgE02QeLILrFWE25WewlG8uqdAIBMgYwn8Q" />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="Keywords" content="BIGBAI Robotics Computer Vision Artificial Intelligence">
    <meta name="description" content="BIGBAI's personal site sharing life and technologies about AI, Robotics, Computer Vision and Machine Learning">
    <meta name="author" content="BIGBAI">
	
	<link href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/styles/darcula.min.css" rel="stylesheet">
    <link rel="shortcut icon" href="/images/favicon/favicon.png" type="image/x-icon">
    <link rel="icon" href="/images/favicon/favicon.png" type="image/x-icon">

    <title>The BIGBAI</title>
	
    <!--Library Styles-->    
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/lib/font-awesome.css" rel="stylesheet">
    <link href="/css/lib/nivo-lightbox.css" rel="stylesheet">
    <link href="/css/lib/nivo-themes/default/default.css" rel="stylesheet">
	
    <!--Template Styles-->
    <link href="/css/style.css" rel="stylesheet">
    <link href="/css/scheme/purple.css" rel="stylesheet">



    <!--[if lt IE 9]>
      <script src="/js/html5shiv.js"></script>
      <script src="/js/respond.min.js"></script>
    <![endif]--><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>
<body data-spy="scroll" id="top">
	<!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="main-wrapper">
		<!-- Site Navigation -->
		<div id="menu">
	<nav class="navbar navbar-default" role="navigation">
		<!-- Brand and toggle get grouped for better mobile display -->
		<div class="navbar-header">
			<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-navbar-collapse">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="index.html#">
				<img src="/images/logo.png" alt="logo">
			</a>
		</div>

		<!-- Collect the nav links, forms, and other content for toggling -->
		<div class="collapse navbar-collapse" id="bs-navbar-collapse">
			<ul class="nav navbar-nav">
				
					<li><a class="nav-font-size" href="/">Home</a></li>
				
					<li><a class="nav-font-size" href="/archives">Archives</a></li>
				
					<li><a class="nav-font-size" href="/about">About</a></li>
				
			</ul>
		</div>
		<!-- /.navbar-collapse -->
	</nav>
</div>

	  
		<div id="container" style="max-width:100%;">
			<section id="blog-full" class="blog">
	<div class="row">
		<div class="col-md-9">
			<div id="primary" class="row">
				<div class="blog-post">
					<!-- Title -->
					<h2 class="post-title">
						<a class="article-full-color">
							Set up Spark 2.0 on Intellij Idea
						</a>
					</h2>
					
					<!-- Tags and Categories links -->
					
					

<div class="blog-tags-container">
    <span class="glyphicon glyphicon-tags"></span>
    <a href="/tags/Spark/">#Spark</a>
</div>

				
					

<div class="blog-categories-container">
    <span class="glyphicon glyphicon-folder-open"></span>
    <a href="/categories/Big-Data/">Big Data</a>
</div>


					<!-- Date and Author -->
					<p class="post-meta">
						2016-11-22
						
					</p>

					<!-- Content -->
					<div id="2016-11-22" class="post-content content_align">
					
						<!-- Table of Contents -->
						
						<div id="toc" class="toc-article">
							<strong class="toc-title">Table of Content</strong>
							<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Install-Java"><span class="toc-text">Install Java</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Install-Scala"><span class="toc-text">Install Scala</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Setup-Spark2-X-on-Intellij-Idea"><span class="toc-text">Setup Spark2.X on Intellij Idea</span></a></li></ol>
						</div>
						
						
						
						<!-- toc -->
<p>It was a sunny day. I started to setup my Spark Evironment. After reading a lot of online tutorials about how to config Spark1.X on Intellij Idea, I found it would be very easy. <a style="color: #CD661D">But something unexpected may happen any time.</a> I still met some troubles as the Spark2.X has some differences from Spark1.X. That is why I want to write this blog to specify how to setup Spark2.X on Intellij Idea. There are five elements required:<br><a id="more"></a></p>
<blockquote>
<ul>
<li>Ubuntu OS</li>
<li>JAVA </li>
<li>Spark 2.x (in my case, spark-2.0.2-bin-hadoop2.7)</li>
<li>Scala</li>
<li>Intellij Idea</li>
</ul>
</blockquote>
<p>Ok, let us go!</p>
<h2 id="Install-Java"><a href="#Install-Java" class="headerlink" title="Install Java"></a><a style="color:#AE8D73"><strong>Install Java</strong></a></h2><p>The first step is to ensure that the Ubuntu has the Java JDK. After downloading <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank" rel="external">JDK</a>, we need to decompress the <strong>“.tar.gz”</strong> to the directory we want to install it. For exmaple: /usr/local/lib/jvm/. Then add the <strong>JAVA_HOME</strong> to our system. Open Bash, type:</p>
<pre><code>sudo gedit /etc/profile
</code></pre><p>Add following path to the end of profile:</p>
<pre><code>#JAVA path
export JAVA_HOME=/usr/local/lib/jvm/java
export JRE_HOME=${JAVA_HOME}/jre  
export CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib  
export PATH=${JAVA_HOME}/bin:$PATH
</code></pre><p>Sava and return to the Bash to check whether Java is installed to OS.</p>
<pre><code>java -version
</code></pre><h2 id="Install-Scala"><a href="#Install-Scala" class="headerlink" title="Install Scala"></a><a style="color:#AE8D73"><strong>Install Scala</strong></a></h2><p>Although Spark has JAVA and Python API, its kernel language is Scala. So we also need to setup scala to our OS. We can download Scala from: <a href="http://www.scala-lang.org/download" target="_blank" rel="external">http://www.scala-lang.org/download</a>. It is <a style="color: #CD661D">very very very important</a> to choose right version, becuase Spark does not support all scala version. In my case, I use scala 2.12.X version in the beginning. Then I run Spark code with error. So I change to scala2.11.x. Similarly, decompress scala-2.11.X.tar to where you want install. </p>
<h2 id="Setup-Spark2-X-on-Intellij-Idea"><a href="#Setup-Spark2-X-on-Intellij-Idea" class="headerlink" title="Setup Spark2.X on Intellij Idea"></a><a style="color:#AE8D73"><strong>Setup Spark2.X on Intellij Idea</strong></a></h2><p>Next, download Spark from <a href="http://spark.apache.org/" target="_blank" rel="external">http://spark.apache.org/</a>. Also decompress it and remember its path. Open Intellij Idea, select “File-Settings-Plugins”. Search “scala” in “Browse Repositories” to find the scala plugin and install it.</p>
<p>Now, we can select “File-Create-Project” to create a Scala project. Next, we have three steps in “File-Project Structure”.</p>
<blockquote>
<ul>
<li>Set JDK Path to <em>Project</em> tab.</li>
<li>Set Scala Path to <em>Global Libraries</em> tab</li>
<li>Set Spark Path to <em>Libraries</em> tab<br>It is noteworthy that <a style="color: #CD661D">comparing with Spark1.X</a>, the Spark2.x dose not has “/lib/spark-assembly-XXXXX.jar”. <a style="color: #CD661D">Instead</a>, there is a “jars” directory. So in the final step, what we need to do is to add the path of “jars” to the <strong>“Libraries” tab</strong> .</li>
</ul>
</blockquote>
<p>Ok run a simple Spark code to test:</p>
<pre><code class="scala">import org.apache.spark.{SparkConf, SparkContext}
/**
  * Created by BIGBAI on 18/11/2016.
  */
object TestScala {
  def main(args: Array[String]): Unit={
    val conf = new SparkConf().setAppName(&quot;first spark&quot;)
    conf.setMaster(&quot;local[2]&quot;)
    val sc = new SparkContext(conf)
    sc.stop()
    println(sc)
  }
}
</code></pre>
<p>If everything is ok, the Spark2.X can successfully run in Intellij Idea. If there is still some errors, please feel free to discuss with me. Or, you can try to <a href="https://www.ibm.com/developerworks/community/files/basic/anonymous/api/library/e5c0146d-f723-446b-9151-c31d4c56ed01/document/b41505ac-141b-45a2-84cd-1b6a8d5ae653/media/Setting%20up%20spark%202.0%20with%20intellij%20community%20edition.pdf" target="_blank" rel="external">use SBT to set up Spark2.X</a>.</p>

					</div>
					
					
					<p></p>
					<div class="denote">
						<div>
							<img onclick="load_pic()" id="aliqcode" class="denote_img img-responsive center-block" src="" />
						</div>
						<a class="donate_btn" id="donate_btn" onclick="load_pic()" >￥ Donate me.</a>
					</div>
					<p></p>

					<p>&nbsp</p>
						
					<!-- JiaThis Button BEGIN -->
					<div class="jiathis_style"><span class="jiathis_txt">分享到：</span>
						<a class="jiathis_button_weixin"></a>
						<a class="jiathis_button_qzone"></a>
						<a class="jiathis_button_tsina"></a>
						<a class="jiathis_button_fb"></a>
						<a href="http://www.jiathis.com/share?uid=2144985" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank"></a>
						<a class="jiathis_counter_style"></a>
					</div>
					<script type="text/javascript" >
					var jiathis_config={
						data_track_clickback:true,
						summary:"",
						url:"http://www.bigbai.com.cn/2016/11/22/Set up Spark2.0 on Intellij Idea/",
						title: "Set up Spark 2.0 on Intellij Idea",
						shortUrl:false,
						hideMore:false
					}
					</script>
					<script type="text/javascript" src="http://v3.jiathis.com/code_mini/jia.js?uid=2144985" charset="utf-8"></script>
					<!-- JiaThis Button END -->

					<p>&nbsp</p>
					
					<!-- UY BEGIN -->
					<div id="uyan_frame"></div>
					<script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=2144985"></script>
					<!-- UY END -->
				</div>
			</div>	
		</div>
		<!-- SIDE BAR -->
<div class="col-md-3 sidebar">
	<div class="row widget">
		<div class="col-md-12">
			<div class="categories-widget">
				<h3 class="widget-title">
					Categories
				</h3>
				<ul>
					<ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Big-Data/">Big Data</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Interesting-Trick/">Interesting Trick</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Robotics/">Robotics</a><span class="category-list-count">1</span></li></ul>
				</ul>
			</div>
		</div>
	</div>
	
	<div class="row widget">
		<div class="col-md-12">
			<div class="categories-widget">
				<h3 class="widget-title">
					Tags
				</h3
				<ul>
					<ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C++</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker/">Docker</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/">Hexo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SLAM/">SLAM</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spark/">Spark</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vision/">Vision</a><span class="tag-list-count">2</span></li></ul>
				</ul>
			</div>
		</div>
	</div>
	
	<div class="row widget">
		<div class="col-md-12">
			<div class="categories-widget">
				<h3 class="widget-title">
					Archives
				</h3
				<ul>
					<ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a><span class="archive-list-count">4</span></li></ul>
				</ul>
			</div>
		</div>
	</div>
</div>


			
	</div>
</section>

		</div>
		
	</div>
	<div>
		<!-- BEGIN FOOTER -->
<footer>
	<div class="row">
		<div class="col-md-12">
			<p style="margin-bottom: 0">
				© 2016 Designed by BIGBAI. Adapted to <a href="https://hexo.io/"> Hexo</a>
			</p>             
			<p >
				-Friend：<a href="http://blackpoint-cx.github.io">BlackPoint</a>- 
			</p>
		</div>
	</div>
</footer>
<!-- END FOOTER -->



<!-- Back to top -->
<div id="backtotop">       
	<a class="to-top-btn sscroll" href="#top"><i class="fa fa-angle-double-up"></i></a>
</div>
	</div>

    <!-- Library Scripts -->
	<script src="/js/jquery-1.10.2.min.js"></script>
<script src="/js/lib/jquery.preloader.js"></script>
<script src="/js/lib/nivo-lightbox.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/lib/jquery.superslides.min.js"></script>
<script src="/js/lib/smoothscroll.js"></script>
<!--<script src="/js/lib/jquery.sudoslider.min.js"></script>-->
<script src="/js/lib/jquery.bxslider.min.js"></script>
<script src="/js/lib/jquery.mixitup.min.js"></script>
<script src="/js/lib/jquery.backtotop.js"></script>
<script src="/js/lib/jquery.carouFredSel-6.2.1-packed.js"></script>
<script src="/js/lib/retina.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>

<script>
	hljs.initHighlightingOnLoad();
</script>

<!-- Custom Script -->    
<script src="/js/main.js"></script>

<script>
	function load_pic()
		{
		var imgObj = document.getElementById("aliqcode");
		var Flag=(imgObj.getAttribute("src",2)=="/images/wechat.jpg")
		imgObj.src=Flag?"":"/images/wechat.jpg";
		
		var textObj = document.getElementById("donate_btn");
		if(textObj.innerHTML =="Scan WeChat QR Code")
		{
			textObj.innerHTML ="￥ Donate me.";
		}
		else
		{
			textObj.innerHTML ="Scan WeChat QR Code";
		}
	}
</script>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
</body>

</html>
